[gd_scene load_steps=22 format=2]

[ext_resource path="res://Modular Dungeon/FBX/Metal.material" type="Material" id=1]
[ext_resource path="res://Scene Principali/Coins.tscn" type="PackedScene" id=2]
[ext_resource path="res://Meshlib/Coins.meshlib" type="MeshLibrary" id=3]
[ext_resource path="res://PNG/hud_coin.png" type="Texture" id=4]
[ext_resource path="res://Script/SbarreDun.gd" type="Script" id=5]
[ext_resource path="res://Script/counterCoins.gd" type="Script" id=6]
[ext_resource path="res://Script/counterItems.gd" type="Script" id=7]
[ext_resource path="res://Modular Dungeon/OBJ/Arch_bars.obj" type="ArrayMesh" id=8]
[ext_resource path="res://Meshlib/Colonna.meshlib" type="MeshLibrary" id=9]
[ext_resource path="res://Meshlib/Muro.meshlib" type="MeshLibrary" id=10]
[ext_resource path="res://Meshlib/Arco.meshlib" type="MeshLibrary" id=11]
[ext_resource path="res://Meshlib/AssetsDung.meshlib" type="MeshLibrary" id=12]
[ext_resource path="res://Meshlib/PavimentoNAV.meshlib" type="MeshLibrary" id=13]
[ext_resource path="res://Font/Pixel Digivolve.otf" type="DynamicFontData" id=14]
[ext_resource path="res://PNG/wrench-icon.png" type="Texture" id=15]
[ext_resource path="res://Scene Principali/Item.tscn" type="PackedScene" id=16]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 1.5498, 1.83659, 2.26808 )

[sub_resource type="DynamicFont" id=2]
size = 25
font_data = ExtResource( 14 )

[sub_resource type="DynamicFont" id=3]
size = 50
font_data = ExtResource( 14 )

[sub_resource type="DynamicFont" id=4]
size = 25
font_data = ExtResource( 14 )

[sub_resource type="DynamicFont" id=5]
size = 50
font_data = ExtResource( 14 )

[node name="Dun1" type="Spatial"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 0, 0 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.469383, 0.66037, 0.586167, -0.402513, -0.430833, 0.807692, 0.785915, -0.615057, 0.0635818, 23.6493, 27.2135, 0 )
light_energy = 2.0
shadow_enabled = true

[node name="Assets" type="GridMap" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0 )
mesh_library = ExtResource( 12 )
cell_size = Vector3( 0.1, 0.1, 0.1 )
data = {
"cells": PoolIntArray( -130937, 11, 1179655, -65601, 27, 131077, -130990, 44, 131079, -130937, 44, 131077, -131002, 56, 131077, -130942, 63, 131078, -65609, 63, 1048582, -65604, 74, 1048583, -65606, 86, 131079, -65609, 128, 1048576, -130939, 143, 1179655, -65619, 152, 1048585, -130946, 160, 1179652, -65601, 162, 1048577, -65617, 166, 1048585, -130936, 65533, 1179654 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, -2, 0 )
}

[node name="Colonna" type="GridMap" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.2, 0 )
mesh_library = ExtResource( 9 )
cell_size = Vector3( 1, 1, 1 )
cell_scale = 3.0
data = {
"cells": PoolIntArray( 9, 0, 1441792, 65532, 0, 1441792 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, -1, 0 )
}

[node name="Muro" type="GridMap" parent="."]
mesh_library = ExtResource( 10 )
cell_size = Vector3( 1, 1, 1 )
cell_center_x = false
cell_center_y = false
cell_center_z = false
cell_scale = 2.0
data = {
"cells": PoolIntArray( 524303, 0, 983040, 131087, 1, 327680, 196599, 1, 983040, 262135, 1, 983040, 393231, 1, -1609629696, 589815, 1, 1048576, 720911, 1, 983040, 786423, 1, 537853952, 458767, 3, 983040, 458743, 4, 537919488, 589815, 4, 1048576, 131087, 5, -1609564160, 196599, 5, 1048576, 196623, 5, 1048576, 589839, 5, 983040, 786423, 5, 1310720, 589815, 7, 1048576, 458767, 8, 983040, 131087, 9, 983040, 196599, 9, 1048576, 524279, 9, 983040, 262159, 11, 983040, 327671, 11, 983040, 131087, 13, 983040, 196599, 13, 1048576, 131081, 65531, 65536, 131085, 65531, 131072, 196601, 65531, 0, 196605, 65531, 65536, 196617, 65531, 196608, 196621, 65531, 196608, 262137, 65531, 196608, 262141, 65531, 196608, 458761, 65531, 0, 458765, 65531, 65536, 524281, 65531, 196608, 524285, 65531, 196608, 589829, 65531, 0, 655361, 65531, 1073741824, 720897, 65531, 131072, 720901, 65531, 196608, 720905, 65531, 0, 720909, 65531, 196608, 786425, 65531, 65536, 786429, 65531, 131072, 131087, 65533, 983040, 196599, 65533, 1310720, 196623, 65533, 1310720, 262135, 65533, 1310720, 458767, 65533, 1048576, 524279, 65533, 1310720, 720911, 65533, 1310720, 786423, 65533, 1048576 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 15, 0, -5 )
}

[node name="Arco" type="GridMap" parent="."]
mesh_library = ExtResource( 11 )
cell_size = Vector3( 1, 1, 1 )
cell_center_x = false
cell_center_y = false
cell_center_z = false
cell_scale = 2.0
data = {
"cells": PoolIntArray( 3, 65531, 0 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 0, -5 )
}

[node name="Monete" type="GridMap" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 0 )
mesh_library = ExtResource( 3 )
cell_size = Vector3( 0.1, 0.1, 0.1 )
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PoolIntArray( 65471, 114, 655361, 65466, 117, 1048576, 65470, 122, 655361, 65462, 141, 1441793, 65462, 142, 1441793, 65472, 147, 1441793, 65462, 149, -1609170943, 65463, 149, -1609170943, 65466, 149, 1441793, 65467, 149, 1441793, 65461, 150, 1441793, 65468, 152, 1441793, 65467, 153, 1441793, 65468, 153, 1441793, 65477, 157, 1441793, 65479, 157, 1441793, 65480, 157, 1441793, 65477, 158, 1441793, 65478, 158, 1441793, 65482, 158, 1441793, 65478, 159, 1441793, 65479, 159, 1441793, 65482, 159, 1441793, 65478, 160, 1441793, 65480, 160, 1441793, 65481, 160, 1441793, 65483, 160, 655361, 65477, 161, 1441793, 65478, 161, 1441793, 65479, 161, 1441793, 65481, 161, 655361, 65477, 162, 1441793, 65478, 162, 1441793, 65479, 162, 1441793, 65482, 162, 1441793, 65483, 162, 1441793, 65479, 163, -1609170943, 65481, 163, -1609170943, 65482, 163, 1441793, 65483, 163, 1441793, 65484, 163, 1441793, 65480, 164, 1441793, 65481, 164, 1441793, 65482, 164, 1441793, 65476, 165, 1441793, 65477, 165, 1441793, 65480, 165, 1441793, 65481, 165, 1441793, 65482, 165, 1441793, 65479, 166, 1441793, 65480, 166, 1441793, 65482, 166, 1441793, 65483, 166, 1441793, 65478, 167, 1441793, 65479, 167, 1441793, 65478, 168, 1441793, 65471, 169, 1441793, 65477, 169, 1441793, 65478, 169, 1441793, 65480, 169, 1441793, 65483, 169, 655361, 65468, 170, 1075183617, 65474, 170, 1441793, 65466, 171, 1441793, 65467, 171, 1441793, 65468, 171, 1441793, 65473, 171, 1441793, 65474, 171, 1441793, 65476, 171, 1441793, 65466, 172, 1075183617, 65469, 172, 1441793, 65470, 172, 1441793, 65472, 172, 1441793, 65477, 172, 1075183617 )
}
__meta__ = {
"_editor_clip_": 0
}

[node name="Navigation" type="Navigation" parent="."]

[node name="Pavimento" type="GridMap" parent="Navigation"]
mesh_library = ExtResource( 13 )
cell_size = Vector3( 1, 1, 1 )
cell_center_x = false
cell_center_y = false
cell_center_z = false
cell_scale = 2.0
data = {
"cells": PoolIntArray( 9, 0, 1179648, 0, 3, 1179648, 3, 3, 524288, 6, 3, 1310720, 9, 3, 131072, 13, 3, 131072, 65529, 3, 131072, 65530, 3, -1610481664, 65531, 3, 131072, 65532, 3, 131072, 0, 7, 524288, 3, 7, 1310720, 7, 7, 1310720, 11, 7, 1310720, 13, 7, 131072, 65529, 7, 131072, 65533, 7, 524288, 2, 11, 524288, 6, 11, 524288, 9, 11, -1609433088, 13, 11, 131072, 65529, 11, 131072, 65531, 11, 131072, 65535, 11, 1310720, 1, 15, 1179648, 5, 15, 524288, 9, 15, 1310720, 12, 15, 131072, 13, 15, 131072, 65529, 15, 0, 65533, 15, 1179648, 0, 17, -1609433088, 2, 17, 1179648, 6, 17, 1179648, 9, 17, 1179648, 13, 17, 1179648, 65529, 17, 1179648, 65533, 17, 1179648, 3, 21, 1179648, 7, 21, 524288, 65535, 21, 524288, 1, 65533, 1179648, 5, 65533, 1179648, 9, 65533, 1179648, 13, 65533, 1179648, 65529, 65533, 1179648, 65533, 65533, 1179648, 9, 65534, 1179648, 3, 65535, 1179648, 7, 65535, 1179648, 13, 65535, 131072, 65529, 65535, 1179648, 65530, 65535, 1179648, 65533, 65535, 1179648, 65535, 65535, 1179648 )
}
__meta__ = {
"_editor_clip_": 0
}

[node name="SbarreDun" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.3681, 0 )
script = ExtResource( 5 )

[node name="CollisionShape" type="CollisionShape" parent="SbarreDun"]
transform = Transform( 1, 0, 0, 0, 1.50407, 0, 0, 0, 1, 3.06502, 0.972512, -4.06738 )
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="SbarreDun"]
transform = Transform( 1.78658, 0, 0, 0, 1.78658, 0, 0, 0, 1, 3.06498, -1.96625, -5.04272 )
mesh = ExtResource( 8 )
material/0 = ExtResource( 1 )

[node name="UIcoins_item" type="Control" parent="SbarreDun"]
margin_right = 1027.0
margin_bottom = 600.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Sprite" type="Sprite" parent="SbarreDun/UIcoins_item"]
position = Vector2( 811.965, 51.0406 )
scale = Vector2( 0.0921739, 0.0921739 )
texture = ExtResource( 4 )

[node name="labelCoins(X)" type="Label" parent="SbarreDun/UIcoins_item"]
margin_left = 841.229
margin_top = 36.244
margin_right = 858.229
margin_bottom = 66.244
custom_fonts/font = SubResource( 2 )
custom_colors/font_color = Color( 1, 0.792157, 0.301961, 1 )
text = "x"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="counterCoins" type="Label" parent="SbarreDun/UIcoins_item"]
margin_left = 864.724
margin_top = 17.0113
margin_right = 988.724
margin_bottom = 76.0113
custom_fonts/font = SubResource( 3 )
custom_colors/font_color = Color( 1, 0.792157, 0.301961, 1 )
text = "A"
script = ExtResource( 6 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Sprite2" type="Sprite" parent="SbarreDun/UIcoins_item"]
position = Vector2( 817.813, 105.984 )
scale = Vector2( 0.0457147, 0.0457147 )
texture = ExtResource( 15 )

[node name="labelItems(X)" type="Label" parent="SbarreDun/UIcoins_item"]
margin_left = 847.39
margin_top = 95.0
margin_right = 864.39
margin_bottom = 125.0
custom_fonts/font = SubResource( 4 )
text = "x"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="counterItems" type="Label" parent="SbarreDun/UIcoins_item"]
margin_left = 869.503
margin_top = 76.6838
margin_right = 972.503
margin_bottom = 135.684
custom_fonts/font = SubResource( 5 )
text = "A"
script = ExtResource( 7 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Coins" type="Node" parent="."]

[node name="Coins8" type="Spatial" parent="Coins"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 0, 0 )

[node name="coinHolder1" type="Spatial" parent="Coins/Coins8"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.57166, 0.954856, 8.82254 )

[node name="coin" parent="Coins/Coins8/coinHolder1" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.07129, 0.264347, -1.36269 )

[node name="Coins7" type="Spatial" parent="Coins"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 0, 0 )

[node name="coinHolder1" type="Spatial" parent="Coins/Coins7"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.57166, 0.954856, 8.82254 )

[node name="coin" parent="Coins/Coins7/coinHolder1" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.8524, 0.264347, 4.64479 )

[node name="Coins6" type="Spatial" parent="Coins"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 0, 0 )

[node name="coinHolder1" type="Spatial" parent="Coins/Coins6"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.57166, 0.954856, 8.82254 )

[node name="coin" parent="Coins/Coins6/coinHolder1" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.381874, 0.264347, 2.3106 )

[node name="Coins5" type="Spatial" parent="Coins"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 0, 0 )

[node name="coinHolder1" type="Spatial" parent="Coins/Coins5"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.57166, 0.954856, 8.82254 )

[node name="coin" parent="Coins/Coins5/coinHolder1" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.75303, 0.264347, 2.44686 )

[node name="Coins4" type="Spatial" parent="Coins"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 0, 0 )

[node name="coinHolder1" type="Spatial" parent="Coins/Coins4"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.57166, 0.954856, 8.82254 )

[node name="coin" parent="Coins/Coins4/coinHolder1" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 8.64845, 0.264347, 0.0650997 )

[node name="Coins2" type="Spatial" parent="Coins"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, -2.39604, 0, 7.80728e-07 )

[node name="coinHolder2" type="Spatial" parent="Coins/Coins2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.896784, 1.07738, 7.19862 )

[node name="coin" parent="Coins/Coins2/coinHolder2" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.871194, 0, 1.46203 )

[node name="Coins3" type="Spatial" parent="Coins"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, -5.08378, 0, 1.6565e-06 )

[node name="coinHolder3" type="Spatial" parent="Coins/Coins3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.04132, 11.245 )

[node name="coin" parent="Coins/Coins3/coinHolder3" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.43051e-06, 0, -3.73901 )

[node name="Coins12" type="Spatial" parent="Coins"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 0, 0 )

[node name="coinHolder1" type="Spatial" parent="Coins/Coins12"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.57166, 0.954856, 8.82254 )

[node name="coin" parent="Coins/Coins12/coinHolder1" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6.14467, 0.264347, 4.58467 )

[node name="Coins10" type="Spatial" parent="Coins"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 0, 0 )

[node name="coinHolder1" type="Spatial" parent="Coins/Coins10"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.57166, 0.954856, 8.82254 )

[node name="coin" parent="Coins/Coins10/coinHolder1" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.85092, 0.264347, -0.125033 )

[node name="Coins9" type="Spatial" parent="Coins"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 0, 0 )

[node name="coinHolder1" type="Spatial" parent="Coins/Coins9"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.57166, 0.954856, 8.82254 )

[node name="coin" parent="Coins/Coins9/coinHolder1" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.93033, 0.264347, 6.75383 )

[node name="Items" type="Node" parent="."]

[node name="Items1" type="Spatial" parent="Items"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 0, 0 )

[node name="itemHolder1" type="Spatial" parent="Items/Items1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, 11 )

[node name="Item" parent="Items/Items1/itemHolder1" instance=ExtResource( 16 )]

[node name="Items2" type="Spatial" parent="Items"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 0, 0 )

[node name="itemHolder2" type="Spatial" parent="Items/Items2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 1, -2 )

[node name="Item" parent="Items/Items2/itemHolder2" instance=ExtResource( 16 )]
transform = Transform( -6.51683e-08, 0.2, 0.34641, 0, 0.34641, -0.2, -0.4, -3.25841e-08, -5.64374e-08, -1, 0, -1 )

[node name="Items3" type="Spatial" parent="Items"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 0, 0 )

[node name="itemHolder3" type="Spatial" parent="Items/Items3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 13, 1, -3 )

[node name="Item" parent="Items/Items3/itemHolder3" instance=ExtResource( 16 )]
[connection signal="body_entered" from="SbarreDun" to="SbarreDun" method="_on_SbarreDun_body_entered"]
[connection signal="coinCollected" from="Coins/Coins8/coinHolder1/coin" to="SbarreDun/UIcoins_item/counterCoins" method="_on_coin_coinCollected"]
[connection signal="coinCollected" from="Coins/Coins7/coinHolder1/coin" to="SbarreDun/UIcoins_item/counterCoins" method="_on_coin_coinCollected"]
[connection signal="coinCollected" from="Coins/Coins6/coinHolder1/coin" to="SbarreDun/UIcoins_item/counterCoins" method="_on_coin_coinCollected"]
[connection signal="coinCollected" from="Coins/Coins5/coinHolder1/coin" to="SbarreDun/UIcoins_item/counterCoins" method="_on_coin_coinCollected"]
[connection signal="coinCollected" from="Coins/Coins4/coinHolder1/coin" to="SbarreDun/UIcoins_item/counterCoins" method="_on_coin_coinCollected"]
[connection signal="coinCollected" from="Coins/Coins2/coinHolder2/coin" to="SbarreDun/UIcoins_item/counterCoins" method="_on_coin_coinCollected"]
[connection signal="coinCollected" from="Coins/Coins3/coinHolder3/coin" to="SbarreDun/UIcoins_item/counterCoins" method="_on_coin_coinCollected"]
[connection signal="coinCollected" from="Coins/Coins12/coinHolder1/coin" to="SbarreDun/UIcoins_item/counterCoins" method="_on_coin_coinCollected"]
[connection signal="coinCollected" from="Coins/Coins10/coinHolder1/coin" to="SbarreDun/UIcoins_item/counterCoins" method="_on_coin_coinCollected"]
[connection signal="coinCollected" from="Coins/Coins9/coinHolder1/coin" to="SbarreDun/UIcoins_item/counterCoins" method="_on_coin_coinCollected"]
[connection signal="itemCollected" from="Items/Items1/itemHolder1/Item" to="SbarreDun/UIcoins_item/counterItems" method="_on_Item_itemCollected"]
[connection signal="itemCollected" from="Items/Items2/itemHolder2/Item" to="SbarreDun/UIcoins_item/counterItems" method="_on_Item_itemCollected"]
[connection signal="itemCollected" from="Items/Items3/itemHolder3/Item" to="SbarreDun/UIcoins_item/counterItems" method="_on_Item_itemCollected"]
